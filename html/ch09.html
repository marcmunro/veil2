<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Chapter 9. Identify and Define Your Scope Types (STEP 2)</title>
<link rel="stylesheet" type="text/css" href="veil2.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="index.html" title="Veil2 0.9.1 (beta) Documentation">
<link rel="up" href="pt02.html" title="Part II. Creating Your Veil2-based VPD Step By Step">
<link rel="prev" href="ch08.html" title="Chapter 8. Getting Started With Veil2 (STEP 1)">
<link rel="next" href="ch10.html" title="Chapter 10. Setting Up Authentication and Session Management (STEP 3)">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch08.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="pt02.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch10.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 8. Getting Started With <code class="literal">Veil2</code> (STEP 1) </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Chapter 10. Setting Up Authentication and Session Management (STEP 3)</td>
</tr>
</table>
<hr>
</div>
<div class="chapter">
<div class="titlepage"><div><div><h2 class="title">
<a name="setup_scope_types"></a>Chapter 9. Identify and Define Your Scope Types (STEP 2)</h2></div></div></div>
<p>
    You need to identify the types of <a class="link" href="ch04.html#scopes" title="4.2. Scopes">scopes</a> that your privileges will have.
    You may find it easier to think in terms of <a class="link" href="ch04.html#security-contexts" title="4.5. Security Contexts">security contexts</a> rather than
    scopes (use whichever concept works better for you).  The two
    things are very similar but contexts are more user-facing and
    scopes more implementation-facing.  Ask yourself, in what contexts
    do I need to provide different access rights based on users'
    relationships?
  </p>
<p>
    You are not, at this stage, going to be creating the scopes
    themselves, just identifying and creating their types.  This is a
    necessary precursor to creating <a class="link" href="ch04.html#privileges" title="4.1. Privileges">privileges</a>.
  </p>
<p>
    Note that <code class="literal">Veil2</code> provides 2 default scope types:
    for global and personal scopes.
  </p>
<p><a name="role_mapping_context"></a>
    You will also need to consider whether your role mappings will
    apply globally, or whether different subsets of users are going to
    see different <a class="link" href="ch04.html#role_mapping" title="4.3.1. Contextual Role Mapping">contextually-dependent
    role-mappings</a>.  If your users have different <a class="link" href="ch04.html#authentication_context" title="4.7. Authentication Contexts">authentication contexts</a>,
    that is they log in using different web forms for different
    organizations or departments, etc, then you may need different
    role mappings for those different authentication contexts.
  </p>
<p>
    Look for "STEP 2" in the file
    <code class="literal">veil2_demo--&lt;version&gt;.sql</code>.
  </p>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="idm732"></a>9.1. Create Scope Type Records</h2></div></div></div>
<p>
      You will need to insert records into
      <a class="link" href="apa.html#entity_scope_type" title="A.1.1. Scope Types Table"><code class="literal">veil2.scope_types</code></a>.
    </p>
<p>
      The <code class="literal">Veil2</code> demo creates 3 relational scopes:
      corp, org and project where: corp represents a corporation; org
      represents an organization within the organizational hierarchy
      of a corporation; and project represents a project.
    </p>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="idm739"></a>9.2. Update Your Role Mapping Context (maybe)</h2></div></div></div>
<p>
      If you need multiple role to role mapping contexts, you need to
      define <span class="quote">“<span class="quote"><code class="literal">mapping context target scope
      type</code></span>”</span> in the <code class="literal"><a class="link" href="apa.html#entity_system_parameter" title="A.1.2. System Parameters Table">system_parameters</a></code>
      table.
    </p>
<p>
      The demo sets role to role mapping to happen at the
      <span class="quote">“<span class="quote">corp</span>”</span> level.  This means that the
      <code class="literal">Customer Service Rep</code> role might provide us
      with different function-level roles if we log in to <span class="quote">“<span class="quote">Veil
      Corp</span>”</span> than if we log in to <span class="quote">“<span class="quote">Protected Corp</span>”</span>.
    </p>
<p>
      <code class="literal">Veil2</code> defaults to role-mapping being global.
      If this is what you want for your system, you can skip this step.
    </p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch08.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="pt02.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch10.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 8. Getting Started With <code class="literal">Veil2</code> (STEP 1) </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Chapter 10. Setting Up Authentication and Session Management (STEP 3)</td>
</tr>
</table>
</div>
</body>
</html>
